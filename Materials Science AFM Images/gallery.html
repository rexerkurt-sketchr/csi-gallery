<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Materials Science AFM Images - Scientific Image Gallery</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
    background: #0f1117;
    color: #e8eaed;
    min-height: 100vh;
    line-height: 1.6;
  }

  /* Header */
  header {
    background: #0f1117;
    border-bottom: 1px solid #2d3140;
    padding: 3rem 2rem;
    text-align: center;
    animation: fadeIn 0.6s ease-out;
  }

  .header-content h1 {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
    color: #f0f6fc;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 1rem;
  }

  .header-content h1 .icon {
    font-size: 2.8rem;
    animation: float 3s ease-in-out infinite;
  }

  .header-content p {
    font-size: 1.1rem;
    color: #8b949e;
    max-width: 600px;
    margin: 1rem auto 0;
  }

  /* Navigation */
  nav {
    background-color: #161b22;
    border-bottom: 1px solid #2d3140;
    padding: 1rem 2rem;
    overflow-x: auto;
    animation: fadeIn 0.8s ease-out;
  }

  nav ul {
    list-style: none;
    display: flex;
    gap: 0.5rem;
    justify-content: center;
    flex-wrap: wrap;
    max-width: 1400px;
    margin: 0 auto;
  }

  nav a {
    display: inline-block;
    padding: 0.6rem 1.2rem;
    border-radius: 6px;
    text-decoration: none;
    color: #c9d1d9;
    background-color: #1a1d27;
    border: 1px solid #2d3140;
    transition: all 0.3s ease;
    font-size: 0.95rem;
    font-weight: 500;
    white-space: nowrap;
  }

  nav a:hover {
    border-color: currentColor;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  }

  /* Filter Section */
  .filter-section {
    background-color: #0f1117;
    padding: 2rem;
    border-bottom: 1px solid #2d3140;
    animation: fadeIn 1s ease-out;
  }

  .filter-container {
    max-width: 1400px;
    margin: 0 auto;
  }

  .filter-group {
    margin-bottom: 1.5rem;
  }

  .filter-group:last-child {
    margin-bottom: 0;
  }

  .filter-label {
    display: block;
    font-size: 0.95rem;
    font-weight: 600;
    color: #f0f6fc;
    margin-bottom: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .filter-buttons {
    display: flex;
    gap: 0.75rem;
    flex-wrap: wrap;
  }

  .filter-btn {
    padding: 0.6rem 1.2rem;
    border: 2px solid #2d3140;
    background-color: #1a1d27;
    color: #c9d1d9;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 0.9rem;
    font-weight: 500;
    font-family: inherit;
  }

  .filter-btn:hover {
    border-color: #818cf8;
    color: #818cf8;
  }

  .filter-btn.active {
    background-color: #818cf8;
    border-color: #818cf8;
    color: #f0f6fc;
  }

  /* Mode-specific active states */
  .filter-btn[data-mode-value="HD-KFM"].active { background-color: #22c55e; border-color: #22c55e; color: #fff; }
  .filter-btn[data-mode-value="Force Modulation"].active { background-color: #ec4899; border-color: #ec4899; color: #fff; }
  .filter-btn[data-mode-value="MFM"].active { background-color: #06b6d4; border-color: #06b6d4; color: #fff; }
  .filter-btn[data-mode-value="Resonant"].active { background-color: #818cf8; border-color: #818cf8; color: #fff; }
  .filter-btn[data-mode-value="ResiScope"].active { background-color: #f97316; border-color: #f97316; color: #fff; }
  .filter-btn[data-mode-value="PFM"].active { background-color: #a855f7; border-color: #a855f7; color: #fff; }

  /* Gallery Grid */
  .gallery {
    padding: 2rem;
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
    gap: 1.5rem;
    max-width: 1600px;
    margin: 0 auto;
  }

  .gallery-container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 2rem;
  }

  .gallery-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: 2rem;
    animation: fadeIn 1.2s ease-out;
  }

  /* Card */
  .card {
    background: #1a1d27;
    border: 1px solid #2d3140;
    border-radius: 16px;
    overflow: hidden;
    transition: all 0.3s ease;
    display: flex;
    flex-direction: column;
    animation: fadeIn 0.4s ease forwards;
  }

  .card:hover {
    transform: translateY(-3px);
    border-color: rgba(129, 140, 248, 0.3);
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
  }

  .card.hidden { display: none; }

  .card-image-wrapper,
  .card-image {
    position: relative;
    width: 100%;
    padding-top: 65%;
    overflow: hidden;
    background: #111318;
    cursor: pointer;
  }

  .card-image-wrapper img,
  .card-image img {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    object-fit: cover;
    transition: transform 0.4s ease;
  }

  .card:hover .card-image-wrapper img,
  .card:hover .card-image img { transform: scale(1.03); }

  .card-badges {
    position: absolute;
    top: 0.75rem;
    left: 0.75rem;
    right: 0.75rem;
    display: flex;
    gap: 0.4rem;
    flex-wrap: wrap;
  }

  .badge {
    padding: 0.3rem 0.7rem;
    border-radius: 6px;
    font-size: 0.7rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    backdrop-filter: blur(8px);
    background-color: rgba(15, 17, 23, 0.85);
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: #c9d1d9;
  }

  .badge-mode { color: #fff; }
  .badge-mode.hdkfm { background: rgba(34, 197, 94, 0.85); }
  .badge-mode.forcemod { background: rgba(236, 72, 153, 0.85); }
  .badge-mode.mfm { background: rgba(6, 182, 212, 0.85); }
  .badge-mode.resonant { background: rgba(129, 140, 248, 0.85); }
  .badge-mode.resiscope { background: rgba(249, 115, 22, 0.85); }
  .badge-mode.pfm { background: rgba(168, 85, 247, 0.85); }

  .badge-app {
    background: rgba(15, 17, 23, 0.75);
    color: #e8eaed;
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  .badge-env {
    background: rgba(14, 165, 233, 0.75);
    color: #fff;
  }

  .card-content {
    padding: 1.2rem 1.4rem 1.4rem;
    flex: 1;
    display: flex;
    flex-direction: column;
  }

  .card-title {
    font-size: 1.05rem;
    font-weight: 600;
    margin-bottom: 0.6rem;
    line-height: 1.3;
    color: #f0f6fc;
  }

  .card-description {
    font-size: 0.85rem;
    color: #9aa0a6;
    line-height: 1.65;
    flex: 1;
  }

  .card-meta {
    display: flex;
    gap: 1rem;
    margin-top: 1rem;
    padding-top: 0.8rem;
    border-top: 1px solid #2d3140;
    flex-wrap: wrap;
  }

  .meta-item {
    font-size: 0.75rem;
    color: #9aa0a6;
    display: flex;
    align-items: center;
    gap: 0.3rem;
  }

  .meta-item strong {
    color: #e8eaed;
    font-weight: 600;
  }

  /* Lightbox */
  .lightbox {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.92);
    z-index: 1000;
    align-items: center;
    justify-content: center;
    backdrop-filter: blur(10px);
    cursor: pointer;
  }

  .lightbox.active { display: flex; }

  .lightbox img {
    max-width: 90vw;
    max-height: 85vh;
    object-fit: contain;
    border-radius: 8px;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
  }

  .lightbox-close {
    position: absolute;
    top: 1.5rem;
    right: 1.5rem;
    width: 44px;
    height: 44px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.1);
    border: none;
    color: #fff;
    font-size: 1.3rem;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background 0.2s;
    backdrop-filter: blur(4px);
  }

  .lightbox-close:hover { background: rgba(255, 255, 255, 0.2); }

  .lightbox-title {
    position: absolute;
    bottom: 2rem;
    left: 50%;
    transform: translateX(-50%);
    color: #fff;
    font-size: 1rem;
    background: rgba(0, 0, 0, 0.6);
    padding: 0.6rem 1.2rem;
    border-radius: 8px;
    backdrop-filter: blur(8px);
    white-space: nowrap;
  }

  .lightbox-content {
    position: relative;
    max-width: 90vw;
    max-height: 90vh;
    display: flex;
    flex-direction: column;
  }

  .lightbox-image {
    max-width: 100%;
    max-height: 70vh;
    object-fit: contain;
  }

  .lightbox-info {
    background-color: #1a1d27;
    padding: 1.5rem;
    border-top: 1px solid #2d3140;
    color: #c9d1d9;
  }

  .lightbox-nav {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background-color: rgba(15, 17, 23, 0.8);
    color: #c9d1d9;
    border: none;
    border-radius: 4px;
    width: 50px;
    height: 50px;
    font-size: 1.5rem;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
    backdrop-filter: blur(4px);
  }

  .lightbox-nav:hover {
    background-color: rgba(124, 58, 237, 0.3);
    color: #818cf8;
  }

  .lightbox-prev { left: 1rem; }
  .lightbox-next { right: 1rem; }

  /* No results */
  .no-results {
    grid-column: 1 / -1;
    text-align: center;
    padding: 4rem 2rem;
    color: #9aa0a6;
  }

  /* Footer */
  footer {
    background-color: #161b22;
    border-top: 1px solid #2d3140;
    padding: 2rem;
    text-align: center;
    color: #8b949e;
    font-size: 0.9rem;
  }

  /* Animations */
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-8px); }
  }

  /* Card stagger */
  .card:nth-child(2) { animation-delay: 0.04s; }
  .card:nth-child(3) { animation-delay: 0.08s; }
  .card:nth-child(4) { animation-delay: 0.12s; }
  .card:nth-child(5) { animation-delay: 0.16s; }
  .card:nth-child(6) { animation-delay: 0.2s; }
  .card:nth-child(7) { animation-delay: 0.24s; }
  .card:nth-child(8) { animation-delay: 0.28s; }
  .card:nth-child(9) { animation-delay: 0.32s; }
  .card:nth-child(10) { animation-delay: 0.36s; }
  .card:nth-child(11) { animation-delay: 0.4s; }
  .card:nth-child(12) { animation-delay: 0.44s; }

  /* Responsive */
  @media (max-width: 900px) {
    .gallery { grid-template-columns: 1fr; padding: 1rem; }
    .gallery-grid { grid-template-columns: 1fr; }
    header { padding: 2rem 1rem; }
    .header-content h1 { font-size: 1.8rem; }
    .header-content h1 .icon { font-size: 2rem; }
    nav ul { justify-content: flex-start; }
    .lightbox-nav { width: 40px; height: 40px; font-size: 1.2rem; }
    .lightbox-prev { left: 0.5rem; }
    .lightbox-next { right: 0.5rem; }
  }

  .csi-logo {
    display: block;
    margin: 0 auto 1rem;
    height: 36px;
    opacity: 0.9;
    transition: opacity 0.3s ease;
  }
  .csi-logo:hover {
    opacity: 1;
  }
</style>
</head>
<body>

    <!-- Header -->
    <header>
        <div class="header-content">
            <h1><span class="icon">&#x2699;</span>Materials Science AFM Images</h1>
            <p>Atomic Force Microscopy Gallery &mdash; Metals, Composites &amp; Piezoelectric Materials</p>
        </div>
    </header>

    <!-- Navigation -->
    <nav>
        <ul>
            <li><a href="../Semiconductor AFM Images/gallery.html" style="color:#a855f7;">Semiconductor AFM</a></li>
            <li><a href="../Polymer AFM Images/gallery.html" style="color:#14b8a6;">Polymer AFM</a></li>
            <li><a href="../Energy AFM Images/gallery.html" style="color:#eab308;">Energy AFM</a></li>
            <li><a href="../Biology AFM Images/gallery.html" style="color:#10b981;">Biology AFM</a></li>
            <li><a href="../2D Materials AFM Images/gallery.html" style="color:#7c3aed;">2D Materials AFM</a></li>
            <li><a href="../index.html" style="color:#9aa0a6;">&#x1F3E0; Home</a></li>
        </ul>
    </nav>

    <!-- Filter Section -->
    <section class="filter-section">
        <div class="filter-container">
            <div class="filter-group">
                <label class="filter-label">Filter by Mode</label>
                <div class="filter-buttons">
                    <button class="filter-btn active" data-filter="mode" data-mode-value="all" onclick="applyFilter('mode','all',this)">All Modes</button>
                    <button class="filter-btn" data-filter="mode" data-mode-value="HD-KFM" onclick="applyFilter('mode','HD-KFM',this)">HD-KFM</button>
                    <button class="filter-btn" data-filter="mode" data-mode-value="Force Modulation" onclick="applyFilter('mode','Force Modulation',this)">Force Mod</button>
                    <button class="filter-btn" data-filter="mode" data-mode-value="MFM" onclick="applyFilter('mode','MFM',this)">MFM</button>
                    <button class="filter-btn" data-filter="mode" data-mode-value="Resonant" onclick="applyFilter('mode','Resonant',this)">Resonant</button>
                    <button class="filter-btn" data-filter="mode" data-mode-value="ResiScope" onclick="applyFilter('mode','ResiScope',this)">ResiScope</button>
                    <button class="filter-btn" data-filter="mode" data-mode-value="PFM" onclick="applyFilter('mode','PFM',this)">PFM</button>
                </div>
            </div>
            <div class="filter-group">
                <label class="filter-label">Filter by Material</label>
                <div class="filter-buttons">
                    <button class="filter-btn active" data-filter="app" data-app-value="all" onclick="applyFilter('app','all',this)">All</button>
                    <button class="filter-btn" data-filter="app" data-app-value="Metal" onclick="applyFilter('app','Metal',this)">Metal</button>
                    <button class="filter-btn" data-filter="app" data-app-value="Composite" onclick="applyFilter('app','Composite',this)">Composite</button>
                    <button class="filter-btn" data-filter="app" data-app-value="Piezoelectric" onclick="applyFilter('app','Piezoelectric',this)">Piezoelectric</button>
                </div>
            </div>
        </div>
    </section>

<div class="gallery" id="gallery">

  <!-- HD-KFM: Metallic Particules -->
  <div class="card" data-mode="HD-KFM" data-app="Metal">
    <div class="card-image-wrapper" onclick="openLightbox(this)">
      <img src="HD-KFM/Metallic Particules.avif" alt="Metallic Particules" loading="lazy">
      <div class="card-badges">
        <span class="badge badge-mode hdkfm">HD-KFM</span>
        <span class="badge badge-app">Metal</span>
      </div>
    </div>
    <div class="card-content">
      <div class="card-title">Metallic Particules</div>
      <div class="card-description">Surface potential mapping of metallic particles using HD-KFM mode, revealing local work function variations.</div>
      <div class="card-meta">
        <div class="meta-item"><strong>Size:</strong> 10&times;10 &micro;m</div>
        <div class="meta-item"><strong>Mode:</strong> HD-KFM</div>
        <div class="meta-item"><strong>Signal:</strong> Surface Potential</div>
      </div>
    </div>
  </div>

  <!-- HD-KFM: Stainless Steel -->
  <div class="card" data-mode="HD-KFM" data-app="Metal">
    <div class="card-image-wrapper" onclick="openLightbox(this)">
      <img src="HD-KFM/Stainless Steel.avif" alt="Stainless Steel" loading="lazy">
      <div class="card-badges">
        <span class="badge badge-mode hdkfm">HD-KFM</span>
        <span class="badge badge-app">Metal</span>
      </div>
    </div>
    <div class="card-content">
      <div class="card-title">Stainless Steel</div>
      <div class="card-description">Surface potential characterization of stainless steel, revealing grain boundary potentials and surface heterogeneity.</div>
      <div class="card-meta">
        <div class="meta-item"><strong>Size:</strong> 20 &micro;m</div>
        <div class="meta-item"><strong>Mode:</strong> HD-KFM</div>
        <div class="meta-item"><strong>Signal:</strong> Surface Potential</div>
      </div>
    </div>
  </div>

  <!-- Force Modulation: Carbon Fibers -->
  <div class="card" data-mode="Force Modulation" data-app="Composite">
    <div class="card-image-wrapper" onclick="openLightbox(this)">
      <img src="Force Modulation/Carbon Fibers in Epoxy.avif" alt="Carbon Fibers in Epoxy" loading="lazy">
      <div class="card-badges">
        <span class="badge badge-mode forcemod">Force Mod</span>
        <span class="badge badge-app">Composite</span>
      </div>
    </div>
    <div class="card-content">
      <div class="card-title">Carbon Fibers in Epoxy</div>
      <div class="card-description">Carbon fiber composite in epoxy matrix imaged using Force Modulation mode. Mechanical contrast reveals fiber-matrix interface properties.</div>
      <div class="card-meta">
        <div class="meta-item"><strong>Size:</strong> 30&times;30 &micro;m</div>
        <div class="meta-item"><strong>Mode:</strong> Force Modulation</div>
        <div class="meta-item"><strong>Type:</strong> Carbon/Epoxy</div>
      </div>
    </div>
  </div>

  <!-- MFM: Cobalt Alloy -->
  <div class="card" data-mode="MFM" data-app="Metal">
    <div class="card-image-wrapper" onclick="openLightbox(this)">
      <img src="MFM/Cobalt Alloy Coating.avif" alt="Cobalt Alloy Coating" loading="lazy">
      <div class="card-badges">
        <span class="badge badge-mode mfm">MFM</span>
        <span class="badge badge-app">Metal</span>
      </div>
    </div>
    <div class="card-content">
      <div class="card-title">Cobalt Alloy Coating</div>
      <div class="card-description">Magnetic domain imaging of cobalt alloy coating using MFM. Reveals magnetic domain structure and orientation patterns.</div>
      <div class="card-meta">
        <div class="meta-item"><strong>Size:</strong> 30&times;30 &micro;m</div>
        <div class="meta-item"><strong>Mode:</strong> MFM</div>
        <div class="meta-item"><strong>Signal:</strong> Magnetic Force</div>
      </div>
    </div>
  </div>

  <!-- Resonant: Fibre -->
  <div class="card" data-mode="Resonant" data-app="Composite">
    <div class="card-image-wrapper" onclick="openLightbox(this)">
      <img src="Resonant Mode/Fibre.avif" alt="Fibre" loading="lazy">
      <div class="card-badges">
        <span class="badge badge-mode resonant">Resonant</span>
        <span class="badge badge-app">Composite</span>
      </div>
    </div>
    <div class="card-content">
      <div class="card-title">Fibre</div>
      <div class="card-description">Fibre surface morphology imaged using Resonant mode. Topography reveals surface texture and structural details.</div>
      <div class="card-meta">
        <div class="meta-item"><strong>Size:</strong> 10&times;10 &micro;m</div>
        <div class="meta-item"><strong>Mode:</strong> Resonant</div>
        <div class="meta-item"><strong>Signal:</strong> Topography</div>
      </div>
    </div>
  </div>

  <!-- Resonant: Gold Deposition -->
  <div class="card" data-mode="Resonant" data-app="Metal">
    <div class="card-image-wrapper" onclick="openLightbox(this)">
      <img src="Resonant Mode/Gold Deposition.avif" alt="Gold Deposition" loading="lazy">
      <div class="card-badges">
        <span class="badge badge-mode resonant">Resonant</span>
        <span class="badge badge-app">Metal</span>
      </div>
    </div>
    <div class="card-content">
      <div class="card-title">Gold Deposition</div>
      <div class="card-description">Gold thin film deposition on substrate. Topography reveals grain structure and surface morphology of the deposited gold layer.</div>
      <div class="card-meta">
        <div class="meta-item"><strong>Size:</strong> 5&times;5 &micro;m</div>
        <div class="meta-item"><strong>Mode:</strong> Resonant</div>
        <div class="meta-item"><strong>Signal:</strong> Topography</div>
      </div>
    </div>
  </div>

  <!-- Resonant: Copper -->
  <div class="card" data-mode="Resonant" data-app="Metal">
    <div class="card-image-wrapper" onclick="openLightbox(this)">
      <img src="Resonant Mode/Copper Sample.avif" alt="Copper Sample" loading="lazy">
      <div class="card-badges">
        <span class="badge badge-mode resonant">Resonant</span>
        <span class="badge badge-app">Metal</span>
      </div>
    </div>
    <div class="card-content">
      <div class="card-title">Copper Sample</div>
      <div class="card-description">Copper surface topography revealing grain structure, surface roughness and crystallographic features.</div>
      <div class="card-meta">
        <div class="meta-item"><strong>Size:</strong> 5&times;5 &micro;m</div>
        <div class="meta-item"><strong>Mode:</strong> Resonant</div>
        <div class="meta-item"><strong>Signal:</strong> Topography</div>
      </div>
    </div>
  </div>

  <!-- ResiScope: Grain Current -->
  <div class="card" data-mode="ResiScope" data-app="Piezo">
    <div class="card-image-wrapper" onclick="openLightbox(this)">
      <img src="ResiScope/Grain Structure Current Map.avif" alt="Grain Structure Current Map" loading="lazy">
      <div class="card-badges">
        <span class="badge badge-mode resiscope">ResiScope</span>
        <span class="badge badge-app">Piezoelectric</span>
      </div>
    </div>
    <div class="card-content">
      <div class="card-title">Grain Structure &mdash; Current Map</div>
      <div class="card-description">ResiScope current mapping of grain structure. Current distribution reveals electrical heterogeneity across different grains and grain boundaries.</div>
      <div class="card-meta">
        <div class="meta-item"><strong>Size:</strong> 5&times;5 &micro;m</div>
        <div class="meta-item"><strong>Mode:</strong> ResiScope</div>
        <div class="meta-item"><strong>Signal:</strong> Current</div>
      </div>
    </div>
  </div>

  <!-- ResiScope: Grain Resistance -->
  <div class="card" data-mode="ResiScope" data-app="Piezo">
    <div class="card-image-wrapper" onclick="openLightbox(this)">
      <img src="ResiScope/Grain Structure Resistance Map.avif" alt="Grain Structure Resistance Map" loading="lazy">
      <div class="card-badges">
        <span class="badge badge-mode resiscope">ResiScope</span>
        <span class="badge badge-app">Piezoelectric</span>
      </div>
    </div>
    <div class="card-content">
      <div class="card-title">Grain Structure &mdash; Resistance Map</div>
      <div class="card-description">ResiScope resistance mapping of grain structure. Resistance variation provides insight into local conductivity and defect distribution.</div>
      <div class="card-meta">
        <div class="meta-item"><strong>Size:</strong> 5&times;5 &micro;m</div>
        <div class="meta-item"><strong>Mode:</strong> ResiScope</div>
        <div class="meta-item"><strong>Signal:</strong> Resistance</div>
      </div>
    </div>
  </div>

  <!-- PFM: Grain Phase -->
  <div class="card" data-mode="PFM" data-app="Piezo">
    <div class="card-image-wrapper" onclick="openLightbox(this)">
      <img src="PFM/Grain Structure PFM Phase.avif" alt="Grain Structure PFM Phase" loading="lazy">
      <div class="card-badges">
        <span class="badge badge-mode pfm">PFM</span>
        <span class="badge badge-app">Piezoelectric</span>
      </div>
    </div>
    <div class="card-content">
      <div class="card-title">Grain Structure &mdash; PFM Phase</div>
      <div class="card-description">Piezoresponse Force Microscopy phase imaging. Phase contrast reveals ferroelectric domain orientation within individual grains.</div>
      <div class="card-meta">
        <div class="meta-item"><strong>Size:</strong> 5&times;5 &micro;m</div>
        <div class="meta-item"><strong>Mode:</strong> PFM</div>
        <div class="meta-item"><strong>Signal:</strong> Phase</div>
      </div>
    </div>
  </div>

  <!-- PFM: Grain Amplitude -->
  <div class="card" data-mode="PFM" data-app="Piezo">
    <div class="card-image-wrapper" onclick="openLightbox(this)">
      <img src="PFM/Grain Structure PFM Amplitude.avif" alt="Grain Structure PFM Amplitude" loading="lazy">
      <div class="card-badges">
        <span class="badge badge-mode pfm">PFM</span>
        <span class="badge badge-app">Piezoelectric</span>
      </div>
    </div>
    <div class="card-content">
      <div class="card-title">Grain Structure &mdash; PFM Amplitude</div>
      <div class="card-description">Piezoresponse Force Microscopy amplitude imaging. Amplitude signal maps the piezoelectric response strength across different grains.</div>
      <div class="card-meta">
        <div class="meta-item"><strong>Size:</strong> 5&times;5 &micro;m</div>
        <div class="meta-item"><strong>Mode:</strong> PFM</div>
        <div class="meta-item"><strong>Signal:</strong> Amplitude</div>
      </div>
    </div>
  </div>

  <!-- PFM: PPLN -->
  <div class="card" data-mode="PFM" data-app="Piezo">
    <div class="card-image-wrapper" onclick="openLightbox(this)">
      <img src="PFM/Periodically Poled Lithium.avif" alt="Periodically Poled Lithium" loading="lazy">
      <div class="card-badges">
        <span class="badge badge-mode pfm">PFM</span>
        <span class="badge badge-app">Piezoelectric</span>
      </div>
    </div>
    <div class="card-content">
      <div class="card-title">Periodically Poled Lithium</div>
      <div class="card-description">Periodically poled lithium niobate (PPLN) imaged using PFM mode. Topography and phase imaging reveal the periodic domain structure created by electric field poling.</div>
      <div class="card-meta">
        <div class="meta-item"><strong>Size:</strong> 50&times;50 &micro;m</div>
        <div class="meta-item"><strong>Mode:</strong> PFM</div>
        <div class="meta-item"><strong>Signals:</strong> Topo &amp; Phase</div>
      </div>
    </div>
  </div>

</div>

<!-- Lightbox -->
<div class="lightbox" id="lightbox" onclick="closeLightbox(event)">
  <button class="lightbox-close" onclick="closeLightbox(event)">&times;</button>
  <img id="lightbox-img" src="" alt="">
  <div class="lightbox-title" id="lightbox-title"></div>
</div>

    <!-- Footer -->
    <footer>
        <p>&copy; 2026 CSInstruments &mdash; Scientific AFM Image Gallery</p>
    </footer>

<script>
  let activeFilters = { mode: 'all', app: 'all' };

  function applyFilter(type, value, btn) {
    activeFilters[type] = value;

    // Update button states
    document.querySelectorAll('.filter-btn[data-filter="' + type + '"]').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');

    // Filter cards
    const cards = document.querySelectorAll('.card');
    let visibleCount = 0;

    cards.forEach(card => {
      const modeMatch = activeFilters.mode === 'all' || card.dataset.mode === activeFilters.mode;
      const appMatch = activeFilters.app === 'all' || card.dataset.app === activeFilters.app;

      if (modeMatch && appMatch) {
        card.classList.remove('hidden');
        visibleCount++;
      } else {
        card.classList.add('hidden');
      }
    });

    // Show/hide no results
    let noResults = document.getElementById('no-results');
    if (visibleCount === 0) {
      if (!noResults) {
        noResults = document.createElement('div');
        noResults.id = 'no-results';
        noResults.className = 'no-results';
        noResults.innerHTML = '<div style="font-size:3rem;margin-bottom:1rem;opacity:0.4">&#x1F50D;</div><p>No images match the selected filters.<br>Try a different combination.</p>';
        document.getElementById('gallery').appendChild(noResults);
      }
      noResults.style.display = 'block';
    } else if (noResults) {
      noResults.style.display = 'none';
    }
  }

  function openLightbox(wrapper) {
    const img = wrapper.querySelector('img');
    const card = wrapper.closest('.card');
    const title = card.querySelector('.card-title').textContent;
    document.getElementById('lightbox-img').src = img.src;
    document.getElementById('lightbox-title').textContent = title;
    document.getElementById('lightbox').classList.add('active');
    document.body.style.overflow = 'hidden';
  }

  function closeLightbox(e) {
    if (e.target === document.getElementById('lightbox') ||
        e.target.classList.contains('lightbox-close') ||
        e.target.parentElement.classList.contains('lightbox-close')) {
      document.getElementById('lightbox').classList.remove('active');
      document.body.style.overflow = '';
    }
  }

  document.addEventListener('keydown', e => {
    if (e.key === 'Escape') {
      document.getElementById('lightbox').classList.remove('active');
      document.body.style.overflow = '';
    }
  });
</script>

</body>
</html>